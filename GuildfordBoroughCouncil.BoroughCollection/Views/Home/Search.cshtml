@model IEnumerable<GuildfordBoroughCouncil.BoroughCollection.Models.BoroughCollectionWork>
@{
    ViewBag.Title = "Search";
}

<h2>Search</h2>

@using (Html.BeginForm())
{
    <div class="form-group">
        <input type="text" name="q" class="form-control" value="@ViewBag.Search" placeholder="Search">
    </div>

    @*<h3>Additional search fields</h3>

    <div class="form-group">
        <label for="artist">Artist</label>
        @Html.DropDownList("artist", (SelectList)ViewBag.Artists, string.Empty, new { @class = "form-control", placeholder = "Artist" })
    </div>
    <div class="form-group">
        <label for="media">Media</label>
        @Html.DropDownList("media", (SelectList)ViewBag.Media, string.Empty, new { @class = "form-control", placeholder = "Media" })
    </div>
    <div class="form-group">
        <label for="period">Period</label>
        @Html.DropDownList("period", (SelectList)ViewBag.Periods, string.Empty, new { @class = "form-control", placeholder = "Period" })
    </div>
    <div class="form-group">
        <label for="subject">Subject</label>
        @Html.DropDownList("subject", (SelectList)ViewBag.Subjects, string.Empty, new { @class = "form-control", placeholder = "Subject" })
    </div>*@

    <div class="form-group">
        <button type="submit" class="btn btn-primary">Search</button>
    </div>
}

@if (ViewBag.Searched == true)
{
    <h2 id="works">Works</h2>
    foreach (var work in Model)
    {
        @Html.DisplayFor(w => work)
    }
    if (Model.Count() == 0)
    {
        <p>No works found.</p>
    }
}

@section HeadScripts
{
    <style>
        .pad-top {
            padding-top: 1rem;
        }

        .article .row {
            margin-bottom: 4rem;
        }
    </style> 
}
@section FooterScripts
{
    <script>
        jQuery(function ($) {
            console.log('0');
            $('#zoomart').on('show.bs.modal', function (event) {
                console.log('1');
                var name = $(event.relatedTarget).data('name');
                console.log(name);
                console.log($(this).find('img'));
                $(this).find('img').attr('src', '@Url.Content("~/assets/images/full/")' + name);
            })
        });
    </script>
}
@section Breadcrumb
{
    <li>@Html.ActionLink("Home", "Index")</li>
}
<div id="zoomart" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body text-center">
                <img src="//placehold.it/1000x600" class="img-responsive">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>